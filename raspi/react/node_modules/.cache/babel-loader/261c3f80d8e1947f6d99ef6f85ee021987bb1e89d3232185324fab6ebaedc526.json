{"ast":null,"code":"import\"./SearchBar.css\";import{useState}from\"react\";import{FaSearch}from\"react-icons/fa\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function SearchBar(_ref){let{setSelected}=_ref;const[input,setInput]=useState('');const[showresults,setShowresults]=useState(true);const[results,setResults]=useState([]);const handleChange=value=>{setInput(value);if(value!==\"\"){fetchData(value);setShowresults(true);}else{setResults([]);setShowresults(false);}};const handleSelectButton=selectTerm=>{setSelected(selectTerm);setShowresults(false);// setInput('');\n};const handleSelectDropdown=dropdownTerm=>{setInput(dropdownTerm);};const fetchData=value=>{const requestOptions={method:'PUT',headers:{'Content-Type':'application/json'},body:JSON.stringify({\"search\":value})};fetch(\"http://127.0.0.1:5000/search\",requestOptions).then(response=>response.json()).then(json=>{// console.log(json);\nsetResults(json);});};return/*#__PURE__*/_jsxs(\"div\",{className:\"grid-item-2\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"input-container\",children:[/*#__PURE__*/_jsx(FaSearch,{id:\"search-icon\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Type to search...\",value:input,onChange:e=>handleChange(e.target.value)})]}),/*#__PURE__*/_jsx(\"div\",{className:\"button-container\",children:/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleSelectButton(input),children:\"Select\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"results-container\",children:showresults&&/*#__PURE__*/_jsx(\"div\",{className:\"results-list\",children:results.map((result,id)=>/*#__PURE__*/_jsx(\"div\",{className:\"result-individual\",onClick:()=>handleSelectDropdown(result.name),children:result.name},id))})})]});}","map":{"version":3,"names":["useState","FaSearch","jsx","_jsx","jsxs","_jsxs","SearchBar","_ref","setSelected","input","setInput","showresults","setShowresults","results","setResults","handleChange","value","fetchData","handleSelectButton","selectTerm","handleSelectDropdown","dropdownTerm","requestOptions","method","headers","body","JSON","stringify","fetch","then","response","json","className","children","id","type","placeholder","onChange","e","target","onClick","map","result","name"],"sources":["/home/will/TravellingPianist/raspi/react/src/components/SearchBar.js"],"sourcesContent":["import \"./SearchBar.css\";\nimport { useState } from \"react\";\nimport { FaSearch } from \"react-icons/fa\"\n\nexport default function SearchBar({setSelected}) {\n\n    const [input, setInput] = useState('');\n    const [showresults, setShowresults] = useState(true);\n    const [results, setResults] = useState([]);\n\n    const handleChange = (value) => {\n        setInput(value);\n        if (value !== \"\") {\n            fetchData(value);\n            setShowresults(true);\n        } else {\n            setResults([]);\n            setShowresults(false);\n        }\n    }\n\n    const handleSelectButton = (selectTerm) => {\n        setSelected(selectTerm);\n        setShowresults(false);\n        // setInput('');\n    }\n\n    const handleSelectDropdown = (dropdownTerm) => {\n        setInput(dropdownTerm);\n    }\n\n    const fetchData = (value) => {\n        const requestOptions = {\n            method: 'PUT',\n            headers: {'Content-Type': 'application/json'},\n            body: JSON.stringify({\"search\": value})\n        }; \n    \n    \n        fetch(\"http://127.0.0.1:5000/search\", requestOptions)\n        .then((response) => response.json())\n        .then((json) => {\n            // console.log(json);\n            setResults(json);\n        });\n      }\n\n    \n    return (\n        <div className=\"grid-item-2\">\n            <div className=\"input-container\">\n                <FaSearch id=\"search-icon\" />\n                <input type='text' placeholder=\"Type to search...\" value={input} onChange={(e) => handleChange(e.target.value)} />\n            </div>\n            <div className=\"button-container\">\n                <button onClick={() => handleSelectButton(input)}>Select</button>\n            </div>\n            <div className=\"results-container\">\n                {showresults && (\n                    <div className=\"results-list\">\n                        {results.map((result, id) => (\n                            <div\n                                className=\"result-individual\"\n                                onClick={() => handleSelectDropdown(result.name)}\n                                key={id}\n                            >\n                                {result.name}\n                            </div>\n                        ))}\n                    </div>\n                )}\n            </div>\n        </div>\n    )\n}\n"],"mappings":"AAAA,MAAO,iBAAiB,CACxB,OAASA,QAAQ,KAAQ,OAAO,CAChC,OAASC,QAAQ,KAAQ,gBAAgB,QAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAEzC,cAAe,SAAS,CAAAC,SAASA,CAAAC,IAAA,CAAgB,IAAf,CAACC,WAAW,CAAC,CAAAD,IAAA,CAE3C,KAAM,CAACE,KAAK,CAAEC,QAAQ,CAAC,CAAGV,QAAQ,CAAC,EAAE,CAAC,CACtC,KAAM,CAACW,WAAW,CAAEC,cAAc,CAAC,CAAGZ,QAAQ,CAAC,IAAI,CAAC,CACpD,KAAM,CAACa,OAAO,CAAEC,UAAU,CAAC,CAAGd,QAAQ,CAAC,EAAE,CAAC,CAE1C,KAAM,CAAAe,YAAY,CAAIC,KAAK,EAAK,CAC5BN,QAAQ,CAACM,KAAK,CAAC,CACf,GAAIA,KAAK,GAAK,EAAE,CAAE,CACdC,SAAS,CAACD,KAAK,CAAC,CAChBJ,cAAc,CAAC,IAAI,CAAC,CACxB,CAAC,IAAM,CACHE,UAAU,CAAC,EAAE,CAAC,CACdF,cAAc,CAAC,KAAK,CAAC,CACzB,CACJ,CAAC,CAED,KAAM,CAAAM,kBAAkB,CAAIC,UAAU,EAAK,CACvCX,WAAW,CAACW,UAAU,CAAC,CACvBP,cAAc,CAAC,KAAK,CAAC,CACrB;AACJ,CAAC,CAED,KAAM,CAAAQ,oBAAoB,CAAIC,YAAY,EAAK,CAC3CX,QAAQ,CAACW,YAAY,CAAC,CAC1B,CAAC,CAED,KAAM,CAAAJ,SAAS,CAAID,KAAK,EAAK,CACzB,KAAM,CAAAM,cAAc,CAAG,CACnBC,MAAM,CAAE,KAAK,CACbC,OAAO,CAAE,CAAC,cAAc,CAAE,kBAAkB,CAAC,CAC7CC,IAAI,CAAEC,IAAI,CAACC,SAAS,CAAC,CAAC,QAAQ,CAAEX,KAAK,CAAC,CAC1C,CAAC,CAGDY,KAAK,CAAC,8BAA8B,CAAEN,cAAc,CAAC,CACpDO,IAAI,CAAEC,QAAQ,EAAKA,QAAQ,CAACC,IAAI,CAAC,CAAC,CAAC,CACnCF,IAAI,CAAEE,IAAI,EAAK,CACZ;AACAjB,UAAU,CAACiB,IAAI,CAAC,CACpB,CAAC,CAAC,CACJ,CAAC,CAGH,mBACI1B,KAAA,QAAK2B,SAAS,CAAC,aAAa,CAAAC,QAAA,eACxB5B,KAAA,QAAK2B,SAAS,CAAC,iBAAiB,CAAAC,QAAA,eAC5B9B,IAAA,CAACF,QAAQ,EAACiC,EAAE,CAAC,aAAa,CAAE,CAAC,cAC7B/B,IAAA,UAAOgC,IAAI,CAAC,MAAM,CAACC,WAAW,CAAC,mBAAmB,CAACpB,KAAK,CAAEP,KAAM,CAAC4B,QAAQ,CAAGC,CAAC,EAAKvB,YAAY,CAACuB,CAAC,CAACC,MAAM,CAACvB,KAAK,CAAE,CAAE,CAAC,EACjH,CAAC,cACNb,IAAA,QAAK6B,SAAS,CAAC,kBAAkB,CAAAC,QAAA,cAC7B9B,IAAA,WAAQqC,OAAO,CAAEA,CAAA,GAAMtB,kBAAkB,CAACT,KAAK,CAAE,CAAAwB,QAAA,CAAC,QAAM,CAAQ,CAAC,CAChE,CAAC,cACN9B,IAAA,QAAK6B,SAAS,CAAC,mBAAmB,CAAAC,QAAA,CAC7BtB,WAAW,eACRR,IAAA,QAAK6B,SAAS,CAAC,cAAc,CAAAC,QAAA,CACxBpB,OAAO,CAAC4B,GAAG,CAAC,CAACC,MAAM,CAAER,EAAE,gBACpB/B,IAAA,QACI6B,SAAS,CAAC,mBAAmB,CAC7BQ,OAAO,CAAEA,CAAA,GAAMpB,oBAAoB,CAACsB,MAAM,CAACC,IAAI,CAAE,CAAAV,QAAA,CAGhDS,MAAM,CAACC,IAAI,EAFPT,EAGJ,CACR,CAAC,CACD,CACR,CACA,CAAC,EACL,CAAC,CAEd","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}