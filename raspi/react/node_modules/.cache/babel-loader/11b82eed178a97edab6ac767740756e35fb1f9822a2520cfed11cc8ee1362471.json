{"ast":null,"code":"import{useState,useEffect}from\"react\";import\"./ControlButtons.css\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function ControlButtons(_ref){let{selected,setSelected}=_ref;const initialStyle={backgroundColor:\"grey\"};const blankStyle={backgroundColor:\"grey\"};const trueStyle={backgroundColor:\"green\"};const falseStyle={backgroundColor:\"red\"};const[uploadstatus,setUploadstatus]=useState(\"False\");const[uploadstyle,setUploadstyle]=useState(initialStyle);const[playstatus,setPlaystatus]=useState(\"False\");const[playstyle,setPlaystyle]=useState(initialStyle);const[resetstatus,setResetstatus]=useState(\"False\");const[resetstyle,setResetstyle]=useState(initialStyle);const fetchUpload=value=>{const requestOptions={method:'PUT',headers:{'Content-Type':'application/json'},body:JSON.stringify({\"name\":value})};fetch(\"http://127.0.0.1:5000/upload\",requestOptions).then(response=>response.json()).then(json=>{// console.log(json.state);\nsetUploadstatus(json.state);});};useEffect(()=>{if(uploadstatus===\"True\"){setUploadstyle(()=>trueStyle);}else if(uploadstatus===\"False\"){setUploadstyle(()=>falseStyle);}else{setUploadstyle(()=>blankStyle);}},[uploadstatus]);const fetchPlay=()=>{fetch(\"http://127.0.0.1:5000/play\").then(response=>response.json()).then(json=>{// console.log(json.state);\nsetPlaystatus(json.state);});};useEffect(()=>{if(playstatus===\"True\"){setPlaystyle(()=>trueStyle);}else if(playstatus===\"False\"){setPlaystyle(()=>falseStyle);}else{setPlaystyle(()=>initialStyle);}},[playstatus]);const handlePlay=()=>{if(uploadstatus===\"True\"){fetchPlay();setPlaystatus(\"True\");}else{setPlaystatus(\"False\");}};const fetchReset=()=>{const requestOptions={method:'PUT',headers:{'Content-Type':'application/json'},body:JSON.stringify({})};fetch(\"http://127.0.0.1:5000/play\",requestOptions).then(response=>response.json()).then(json=>{// console.log(json.state);\nsetResetstatus(json.state);setSelected(\"\");});};useEffect(()=>{if(resetstatus===\"True\"){setResetstyle(()=>trueStyle);}else if(resetstatus===\"False\"){setResetstyle(()=>falseStyle);}else{setResetstyle(()=>initialStyle);}},[resetstatus]);return/*#__PURE__*/_jsxs(\"div\",{className:\"grid-item-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"control-container\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"control-button\",onClick:()=>fetchUpload(selected),children:\"Upload\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"status-container\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"status-label\",children:\"Status\"}),/*#__PURE__*/_jsx(\"div\",{className:\"status-upload\",style:uploadstyle,children:uploadstatus})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"control-container\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"control-button\",onClick:()=>handlePlay(),children:\"Play\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"status-container\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"status-label\",children:\"Status\"}),/*#__PURE__*/_jsx(\"div\",{className:\"status-play\",style:playstyle,children:playstatus})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"control-container\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"control-button\",onClick:()=>fetchReset(),children:\"Reset\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"status-container\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"status-label\",children:\"Status\"}),/*#__PURE__*/_jsx(\"div\",{className:\"status-reset\",style:resetstyle,children:resetstatus})]})]})]});}","map":{"version":3,"names":["useState","useEffect","jsx","_jsx","jsxs","_jsxs","ControlButtons","_ref","selected","setSelected","initialStyle","backgroundColor","blankStyle","trueStyle","falseStyle","uploadstatus","setUploadstatus","uploadstyle","setUploadstyle","playstatus","setPlaystatus","playstyle","setPlaystyle","resetstatus","setResetstatus","resetstyle","setResetstyle","fetchUpload","value","requestOptions","method","headers","body","JSON","stringify","fetch","then","response","json","state","fetchPlay","handlePlay","fetchReset","className","children","onClick","style"],"sources":["/home/will/TravellingPianist/raspi/react/src/components/ControlButtons.js"],"sourcesContent":["import { useState, useEffect } from \"react\";\nimport \"./ControlButtons.css\";\n\nexport default function ControlButtons({selected, setSelected}) {\n\n    const initialStyle = {\n        backgroundColor: \"grey\",\n    }\n\n    const blankStyle = {\n        backgroundColor: \"grey\",\n    };\n\n    const trueStyle = {\n        backgroundColor: \"green\",\n    };\n\n    const falseStyle = {\n        backgroundColor: \"red\",\n    };\n\n    const [uploadstatus, setUploadstatus] = useState(\"False\");\n    const [uploadstyle, setUploadstyle] = useState(initialStyle);\n    const [playstatus, setPlaystatus] = useState(\"False\");\n    const [playstyle, setPlaystyle] = useState(initialStyle);\n    const [resetstatus, setResetstatus] = useState(\"False\");\n    const [resetstyle, setResetstyle] = useState(initialStyle);\n\n\n    const fetchUpload = (value) => {\n        const requestOptions = {\n            method: 'PUT',\n            headers: {'Content-Type': 'application/json'},\n            body: JSON.stringify({\"name\": value})\n        }; \n    \n    \n        fetch(\"http://127.0.0.1:5000/upload\", requestOptions)\n        .then((response) => response.json())\n        .then((json) => {\n            // console.log(json.state);\n            setUploadstatus(json.state);\n        });\n    }\n    useEffect( () => {\n        if (uploadstatus === \"True\") {\n            setUploadstyle(() => (trueStyle));\n        } else if (uploadstatus === \"False\") {\n            setUploadstyle(() => (falseStyle));\n        } else {\n            setUploadstyle(() => (blankStyle));\n        }\n    }, [uploadstatus]);\n\n    \n    const fetchPlay = () => {\n        fetch(\"http://127.0.0.1:5000/play\")\n        .then((response) => response.json())\n        .then((json) => {\n            // console.log(json.state);\n            setPlaystatus(json.state);\n        });\n    }\n    useEffect( () => {\n        if (playstatus === \"True\") {\n            setPlaystyle(() => (trueStyle));\n        } else if (playstatus === \"False\") {\n            setPlaystyle(() => (falseStyle));\n        } else {\n            setPlaystyle(() => (initialStyle));\n        }\n    }, [playstatus]);\n\n    const handlePlay = () => {\n        if (uploadstatus === \"True\") {\n            fetchPlay();\n            setPlaystatus(\"True\");\n        } else {\n            setPlaystatus(\"False\")\n        }\n    }\n\n\n    const fetchReset = () => {\n        const requestOptions = {\n            method: 'PUT',\n            headers: {'Content-Type': 'application/json'},\n            body: JSON.stringify({})\n        }; \n\n        fetch(\"http://127.0.0.1:5000/play\", requestOptions)\n        .then((response) => response.json())\n        .then((json) => {\n            // console.log(json.state);\n            setResetstatus(json.state);\n            setSelected(\"\");\n        });\n    }\n    useEffect( () => {\n        if (resetstatus === \"True\") {\n            setResetstyle(() => (trueStyle));\n        } else if (resetstatus === \"False\") {\n            setResetstyle(() => (falseStyle));\n        } else {\n            setResetstyle(() => (initialStyle));\n        }\n    }, [resetstatus]);\n    \n\n    return (\n        <div className=\"grid-item-4\">\n            <div className=\"control-container\">\n                <button className=\"control-button\" onClick={() => fetchUpload(selected)}>Upload</button>\n                <div className=\"status-container\">\n                    <div className=\"status-label\">Status</div>\n                    <div className=\"status-upload\" style={uploadstyle}>{uploadstatus}</div>\n                </div>\n            </div>\n            <div className=\"control-container\">\n                <button className=\"control-button\" onClick={() => handlePlay()}>Play</button>\n                <div className=\"status-container\">\n                    <div className=\"status-label\">Status</div>\n                    <div className=\"status-play\" style={playstyle}>{playstatus}</div>\n                </div>\n            </div>\n            <div className=\"control-container\">\n                <button className=\"control-button\" onClick={() => fetchReset()}>Reset</button>\n                <div className=\"status-container\">\n                    <div className=\"status-label\">Status</div>\n                    <div className=\"status-reset\" style={resetstyle}>{resetstatus}</div>\n                </div>\n            </div>\n        </div>\n    )\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}